parameters:
    locale: 'fr'

services:
    # defaults applies to all services unless explicitly overridden
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.
        public: false       # Services are private by default

    # makes classes in src/ available to be used as services
    # this creates a service per class whose id is the fully-qualified class name
    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Entity/'
            - '../src/Kernel.php'

    # Explicit service configuration for CartService
    App\Service\CartService:
        arguments:
            $requestStack: '@request_stack'

    # Alias for ProductRepositoryInterface
    App\Service\ProductRepositoryInterface: '@App\Service\ProductRepository'

    # Form type configuration
    App\Form\CartItemType:
        arguments:
            $productRepository: '@App\Service\ProductRepositoryInterface'
        tags: ['form.type']
